# View settings
set main-view = \
  id:yes \
  date:display=custom,format="%Y/%m/%d %H:%M" \
  author:width=7 \
  commit-title:graph=v2,refs=true

set blame-view = \
	id:yes,color \
  date:display=custom,format="%Y/%m/%d %H:%M" \
  author:width=7 \
	line-number:yes,interval=1 text

set refs-view = \
  date:display=custom,format="%Y/%m/%d %H:%M" \
  author:width=7 \
  ref:true \
  commit-title:true

set blame-options = -C -C -C
set diff-context = 3
set commit-order = default
set focus-child = yes
set horizontal-scroll = 33%
set id-width = 7
set ignore-case = yes
set ignore-space = some
set show-changes = no
set show-notes = yes
set tab-size = 2

# Bind Settings
bind generic A none
bind generic D none
bind generic F none
bind generic G none
bind generic I none
bind generic R none
bind generic S none
bind generic g none
bind generic i none
bind generic s none

bind generic <C-b> move-page-up
bind generic <C-f> move-page-down
bind generic ? view-help
bind generic A !git commit --amend
bind generic F !git fetch --prune
bind generic G move-last-line
bind generic P !?git push
bind generic R !?git reset --hard %(commit)
bind generic S !git status
bind generic e scroll-line-down
bind generic g move-first-line
bind generic o enter
bind generic p !?git pull
bind generic y scroll-line-up
# Copy rev id to clipboard
bind generic c !@sh -c 'echo %(commit) | tr -d "\n" | pbcopy'

bind main C none
bind main s view-status
bind main b view-refs
bind main G move-last-line

bind diff i view-close
bind diff D :toggle diff-options --minimal	# Use minimal diff algorithm
bind diff [ :toggle diff-context -3		# Decrease context (-U arg)
bind diff ] :toggle diff-context +3		# Increase context

bind tree v !vim %(file) # open file from tree
bind refs n !@git branch %(prompt) # Create a new branch
bind refs d !?git branch -D %(branch) # Delete local branch
bind refs c !git checkout %(branch) # Checkout branch
bind refs C !git checkout -b %(branch) origin/%(branch) # Create a new branch

bind status d !@?rm -rf %(file) # delete untracked files
